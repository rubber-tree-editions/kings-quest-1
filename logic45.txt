#include "vars.txt"

LOGIC__HEADER



if (fROOM_SCRIPT_EXECUTED) {
  load.pic(vROOM_NO);
  draw.pic(vROOM_NO);
  discard.pic(vROOM_NO);
  set.horizon(43);
  if (fGOAT_COMPANION) {
    load.logics(LOGIC_GOAT);
  }
  if (vROOM_YOU_KILLED_THE_GOAT_IN == vROOM_NO) {
    add.to.pic(62, 0, 0, 77, 83, 0, 0);
  }
  LABEL37:
    draw(oEGO);
    show.pic();
}
if (said("examine", "building")) {
  print("This old cottage is sagging and in great need of repair.");
}
LABEL52:
  if (said("examine", "stumps")) {
    print("The trees were cut from these stumps long ago.");
  }
LABEL64:
  if (said("talk", "man") || said("talk", "woman")) {
    if (posn(oEGO, 11, 119, 45, 146)) {
      print("You need to go inside to do that.");
      goto(LABEL99);
    }
    print("You can't do that now.");
  }
LABEL99:
  if (said("examine", "window") || said("look inside", "window")) {
    if (posn(oEGO, 11, 119, 45, 146)) {
      print("When you look in the window, you see a poor, starving woodcutter and his wife.");
      goto(LABEL134);
    }
    print("You could get a much better view if you were a little bit closer.");
  }
LABEL134:
  if (said("break", "window")) {
    if (posn(oEGO, 11, 119, 45, 146)) {
      print("There isn't a glass pane in this window.");
      goto(LABEL161);
    }
    print("You are not close enough.");
  }
LABEL161:
  if (said("climb", "window")) {
    if (posn(oEGO, 11, 119, 45, 146)) {
      print("You should really try to find the door.");
      goto(LABEL188);
    }
    print("You are not close enough.");
  }
LABEL188:
  if (vEGO_EDGE_CODE == EDGE_HORIZON) {
    new.room(4);
  }
LABEL197:
  if (vEGO_EDGE_CODE == EDGE_RIGHT) {
    new.room(46);
  }
LABEL206:
  if (vEGO_EDGE_CODE == EDGE_LEFT) {
    new.room(44);
  }
LABEL215:
  if (vEGO_EDGE_CODE == EDGE_BOTTOM) {
    new.room(36);
  }
LABEL224:
  if (fGOAT_COMPANION) {
    call(LOGIC_GOAT);
  }
LABEL232:
  return;

LOGIC__FOOTER

