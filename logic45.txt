#include "vars.txt"

LOGIC__HEADER

if (fROOM_SCRIPT_EXECUTED) {
  load.pic(vROOM_NO);
  draw.pic(vROOM_NO);
  discard.pic(vROOM_NO);
  set.horizon(43);
  if (fGOAT_COMPANION) {
    load.logics(LOGIC_GOAT);
  }
  if (vROOM_YOU_KILLED_THE_GOAT_IN == vROOM_NO) {
    add.to.pic(62, 0, 0, 77, 83, 0, 0);
  }
  draw(oEGO);
  show.pic();
}
if (said("examine", "building")) {
  print("This old cottage is sagging and in great need of repair.");
}
if (said("examine", "stumps")) {
  print("The trees were cut from these stumps long ago.");
}
if (said("talk", "woodcutter") || said("talk", "wife")) {
  if (posn(oEGO, 11, 119, 45, 146)) {
    print("You need to go inside to do that.");
  }
  else {
    print("You can't do that now.");
  }
}
if (said("examine", "window") || said("look inside", "window")) {
  if (posn(oEGO, 11, 119, 45, 146)) {
    print("When you look in the window, you see a poor, starving woodcutter and his wife.");
  }
  else {
    print("You could get a much better view if you were a little bit closer.");
  }
}
if (said("break", "window")) {
  if (posn(oEGO, 11, 119, 45, 146)) {
    print("There isn't a glass pane in this window.");
  }
  else {
    print("You are not close enough.");
  }
}
if (said("climb", "window")) {
  if (posn(oEGO, 11, 119, 45, 146)) {
    print("You should really try to find the door.");
  }
  else {
    print("You are not close enough.");
  }
}
if (vEGO_EDGE_CODE == EDGE_HORIZON) {
  new.room(ROOM4);
}
if (vEGO_EDGE_CODE == EDGE_RIGHT) {
  new.room(ROOM46);
}
if (vEGO_EDGE_CODE == EDGE_LEFT) {
  new.room(ROOM44);
}
if (vEGO_EDGE_CODE == EDGE_BOTTOM) {
  new.room(ROOM36);
}
if (fGOAT_COMPANION) {
  call(LOGIC_GOAT);
}
return;

LOGIC__FOOTER

