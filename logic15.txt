#include "vars.txt"

LOGIC__HEADER



if (fROOM_SCRIPT_EXECUTED) {
  load.pic(vROOM_NO);
  draw.pic(vROOM_NO);
  discard.pic(vROOM_NO);
  set.horizon(46);
  if (fGOAT_COMPANION) {
    load.logics(LOGIC_GOAT);
  }
  if (vROOM_YOU_KILLED_THE_GOAT_IN == vROOM_NO) {
    add.to.pic(62, 0, 0, 20, 65, 0, 0);
  }
  LABEL37:
    if (vPREV_ROOM_NO == 18) {
      if (fEGO_ON_WATER) {
        set.view(oEGO, 0);
        reset(f98);
        v94 = 0;
      }
    }
  LABEL58:
    draw(oEGO);
    show.pic();
}
if (said("examine", "garden") || said("examine", "ground") || said("examine", "plant") || said("examine", "bushes")) {
  print("This is a well-tended carrot patch.  The carrots look tempting to a hungry traveler.");
}
LABEL93:
  if (said("examine", "goat pen")) {
    print("This is a relatively low, rustic stone fence which runs along the left and rear sides of the garden.");
  }
LABEL105:
  if (said("climb", "goat pen")) {
    print("There is no reason to climb the fence.");
  }
LABEL117:
  if (said("jump", "goat pen")) {
    print("You can go around the fence.");
  }
LABEL129:
  if (posn(oEGO, 87, 54, 159, 65) || posn(oEGO, 79, 66, 159, 76) || posn(oEGO, 66, 77, 159, 91) || posn(oEGO, 46, 92, 159, 116) || posn(oEGO, 32, 117, 159, 147)) {
    set(f20);
    goto(LABEL172);
  }
LABEL170:
  reset(f20);
LABEL172:
  if (f20) {
    if (!fCARRYING_CARROT && said("examine", "carrot")) {
      print("There are many large, plump carrots in the garden.");
    }
    if (!fCARRYING_CARROT && said("get", "carrot")) {
      print("You pluck a plump, orange carrot from the ground.");
      set(fCARRYING_CARROT);
      reset(fCARROT_EATEN);
      get("carrot");
      if (!fPOINTS_FOR_CARROT) {
        vSCORE += 2;
        set(fPOINTS_FOR_CARROT);
      }
    }
  }
LABEL226:
  if (!f20) {
    if (!fCARRYING_CARROT && said("examine", "carrot")) {
      print("The carrots are buried in the ground.  You must get  closer to see them.");
    }
    if (!fCARRYING_CARROT && said("get", "carrot")) {
      print("You must be in the carrot patch to pick a carrot.");
    }
  }
LABEL263:
  if (!fCARRYING_CARROT) {
    if (said("eat", "carrot")) {
      print("You do not have a carrot to eat.");
    }
  }
LABEL282:
  if (vEGO_EDGE_CODE == EDGE_HORIZON) {
    new.room(18);
  }
LABEL291:
  if (vEGO_EDGE_CODE == EDGE_RIGHT) {
    new.room(16);
  }
LABEL300:
  if (vEGO_EDGE_CODE == EDGE_LEFT) {
    new.room(14);
  }
LABEL309:
  if (vEGO_EDGE_CODE == EDGE_BOTTOM) {
    new.room(2);
  }
LABEL318:
  if (fGOAT_COMPANION) {
    call(LOGIC_GOAT);
  }
LABEL326:
  return;

LOGIC__FOOTER

