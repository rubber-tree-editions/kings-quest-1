
#ifdef LOGIC_AS_C

  #define LOGIC__HEADER void func() {
  #define LOGIC__FOOTER }
  #include "logic_as_c.h"

#else

  #define LOGIC__HEADER
  #define LOGIC__FOOTER

#endif

#define RUBBER_TREE

// built-in vars
#define vROOM_NO v0
#define vPREV_ROOM_NO v1
#define vEGO_EDGE_CODE v2
#define vSCORE v3
#define vOBJECT_TOUCHING_EDGE v4
#define vOBJECT_EDGE_CODE v5
#define vEGO_DIR v6
#define vMAX_SCORE v7
#define vFREE_MEMORY v8
#define vUNKNOWN_WORD_NO v9
#define vCYCLE_DELAY v10
#define vCLOCK_SECONDS v11
#define vCLOCK_MINUTES v12
#define vCLOCK_HOURS v13
#define vCLOCK_DAYS v14
#define vJOYSTICK_SENSITIVITY v15
#define vEGO_VIEW_NO v16
#define vERROR_CODE v17
#define vERROR_INFO v18
#define vKEY_PRESSED v19
#define vCOMPUTER_TYPE v20
#define vWINDOW_CLOSE_TIME v21
#define vSOUND_TYPE v22
#define vSOUND_VOLUME v23
// 24: unknown, always 41?
#define vSELECTED_INV_ITEM v25
#define vVIDEO_MODE v26

// game vars
#define vTEMP_1 v31
#define vTEMP_X v60
#define vTEMP_Y v61
#define vTEMP_RESULT v62
#define vSPELL_COUNTDOWN_HI v63
#define vSPELL_COUNTDOWN_LO v64
#define vROOM_YOU_KILLED_THE_GOAT_IN v65
#define vDOOR_STATE v66
  #define DOORSTATE_LOCKED 0
  #define DOORSTATE_CLOSED 1
  #define DOORSTATE_OPEN 2
#define vTREASURE_COUNT v74
#define vDRAGON_STATE v75
  #define DRAGONSTATE_NORMAL 0
  #define DRAGONSTATE_DEAD 1
  #define DRAGONSTATE_ABSENT 2
#define vEGO_WATER_X v76
#define vEGO_WATER_Y v77
#define vTEMP_INPUT_NUM1 v78
#define vTEMP_INPUT_NUM2 v79
#define vBEANSTALK_ROOM v80
#define vWITCH_STATE v81
  #define WITCHSTATE_AT_HOME 1
  #define WITCHSTATE_AWAY_FROM_HOME 2
  #define WITCHSTATE_DEAD 3
#define vGNOME_STATE v83
  #define GNOMESTATE_PRESENT 0
  #define GNOMESTATE_LEFT_BEANS 1
  #define GNOMESTATE_LEFT_KEY 2
#define vTAKEN_GNOME_GIFT v85
  #define GNOMEGIFT_KEY 1
  #define GNOMEGIFT_BEANS 2
#define vGNOME_NAME_GUESSES v84
#define vGIANT_STATE v86
  #define GIANTSTATE_AWAKE_WITH_CHEST 0
  #define GIANTSTATE_ASLEEP_WITH_CHEST 1
  #define GIANTSTATE_AWAKE_NO_CHEST 2
  #define GIANTSTATE_ASLEEP_NO_CHEST 3
  #define GIANTSTATE_DEAD_WITH_CHEST 4
  #define GIANTSTATE_DEAD_NO_CHEST 5
#define vCUPBOARD_STATE v87
  #define CUPBOARDSTATE_CLOSED_WITH_CHEESE 0
  #define CUPBOARDSTATE_OPEN_WITH_CHEESE 1
  #define CUPBOARDSTATE_CLOSED_NO_CHEESE 2
  #define CUPBOARDSTATE_OPEN_NO_CHEESE 3
#define vTEMP_CYCLE_DELAY v88
#define vBOWL_STATE v89
  #define BOWLSTATE_EMPTY 0
  #define BOWLSTATE_FULL_OF_STEW 1
#define vTEMP_PIC v92
#define vAQUATIC_ACTIVITY v94
  #define AQUATICACTIVITY_NONE 0
  #define AQUATICACTIVITY_DROWNING 1
  #define AQUATICACTIVITY_SWIMMING 2
#define vDROWN_GAME_OVER_COUNTDOWN v95
#define vTEMP_STEP v96
#define vGAME_OVER_MESSAGE_COUNTDOWN v97
#define vTEMP_STEP_SIZE v98
#define vTEMP_X_2 v100
#define vTEMP_Y_2 v101
#define vTEMP_CYCLE_TIME v102
#define vTEMP_CYCLE_TIME_2 v103
#define vTEMP_X_3 v104
#define vTEMP_Y_3 v105
#define vTEMP_DIR v106
#define vTEMP_STEP_SIZE_2 v107
#define vSAVED_EGO_X v108
#define vSAVED_EGO_Y v109
#define vSAVED_EGO_DIR v110

// built-in flags
#define fEGO_ON_WATER f0
#define fEGO_OBSCURED f1
#define fPLAYER_ENTERED_COMMAND f2
#define fEGO_TOUCHED_TRIGGER_LINE f3
#define fSAID_ACCEPTED_USER_INPUT f4
#define fROOM_SCRIPT_EXECUTED f5
#define fRESTART_GAME_EXECUTED f6
#define fWRITING_SCRIPT_BUFFER_BLOCKED f7
#define fJOYSTICK_SENSITIVITY_ENABLED f8
#define fSOUND_ENABLED f9
#define fDEBUGGER_ENABLED f10
#define fLOGIC_0_EXECUTED f11
#define fRESTORE_GAME_EXECUTED f12
#define fSTATUS_TO_SELECT_ITEMS f13
#define fENABLE_MENU f14
#define fENABLE_NON_BLOCKING_WINDOWS f15
#define fGAME_RESTART_FLAG f16

// custom game flags
#define fFINISHED1 f30
#define fDROWNING f44
#define fSPOKEN_TO_KING f60
#define fPOINTS_FOR_FINDING_POUCH f61
#define fMOVED_ROCK f62
#define fGAME_OVER f63
// unused: f64
// unused: f65
#define fCARRYING_DAGGER f67
#define fSWIMMING_IMPOSSIBLE_HERE f68
#define fTAKEN_DAGGER f69
#define fDAGGER_LOST f70
#define fPOUCH_TAKEN f71
#define fCARRYING_POUCH f72
#define fPROTECTED_BY_SPELL f73
#define fINSIDE_GOAT_FENCE f74
#define fGOAT_COMPANION f75
#define fCARRYING_CARROT f77
#define fGOAT_GATE_OPEN f78
#define fEGO_INVISIBLE f79
#define fPOINTS_FOR_FINDING_CHEESE f80
#define fCARRYING_BUCKET f81
#define fIMPRESSED_ELF f82
#define fCARRYING_RING f83
#define fCARRYING_GOLD_KEY f84
#define fPOINTS_FOR_UNLOCKING_DOOR f85
#define fCLOVER_TAKEN f86
#define fCARRYING_CLOVER f87
#define fBUCKET_FILLED f88
#define fCARRYING_BOWL f89
#define fBOWL_TAKEN f90
#define fFILL_BUCKET_POINTS f91
#define fPEBBLES_TAKEN f92
#define fCARRYING_PEBBLES f93
#define fMAGIC_BEANS_PLANTED f94
#define fSLINGSHOT_TAKEN f96
#define fCARRYING_SLINGSHOT f97

#ifdef RUBBER_TREE
  #define fUNDO f99
#endif

#define fCARRYING_MIRROR f100
#define fDWARF_STOLE_MIRROR f101
#define fCARRYING_SHIELD f102
#define fDWARF_STOLE_SHIELD f103
#define fCARRYING_CHEST f104
#define fDWARF_STOLE_CHEST f105
#define fCARRYING_DIAMONDS f106
#define fDWARF_OR_TROLL_HAS_DIAMONDS f107
#define fCARRYING_GOLD_WALNUT f108
#define fDWARF_OR_TROLL_HAS_WALNUT f109
#define fCARRYING_GOLDEN_EGG f110
#define fDWARF_OR_TROLL_HAS_EGG f111
#define fDWARF_HAS_POUCH f112
#define fCARRYING_SCEPTRE f113
#define fDWARF_OR_TROLL_HAS_SCEPTRE f114
#define fLOST_RING f115
#define fPOINTS_FOR_CARROT f117
#define fCARROT_EATEN f118
// unused: f119
#define fEGO_TINY f120
#define fMUSHROOM_TAKEN f121
#define fCARRYING_MUSHROOM f123
#define fEATEN_MUSHROOM f124
#define fLOST_VITAL_TREASURE f126
#define fCARRYING_WALNUT f127
// unused: f128
#define fWALNUT_TAKEN f129
#define fGOAT_IS_GONE f130
#define fPOINTS_FOR_CLIMBING_TREE f132
#define fWEARING_RING f133
#define fMANUAL_EGO_WATER_POS f134
#define fTAKEN_GOLDEN_EGG f137
#define fRAT_IS_GONE f138
#define fCARRYING_SWISS_CHEESE f139
#define fRAT_ATE_CHEESE f140
// unused: f141
#define fCARRIED_BY_WITCH f142
#define fSWIMMING f147
#define fCARRYING_MAGIC_BEANS f154
#define fEGO_CLIMBING_BEANSTALK f157
#define fSOUND_END_MARKER f159
#define fPOINTS_FOR_EATING_GINGERBREAD_HOUSE f160
// unused: f161
#define fTAKEN_MIRROR f165
#define fCARRYING_NOTE f170
#define fCARRYING_FIDDLE f171
#define fFIDDLE_TAKEN f172
#define fGIVEN_BOWL_TO_WOODCUTTER f183
#define fPOINTS_FOR_STEW f184
#define fWOODCUTTER_GIVEN_STEW f185
#define fDANCING_LEPRECHAUNS f186
#define fSHIELD_TAKEN f188
#define fSCEPTRE_TAKEN f189
#define fPOINTS_FOR_BOWING_TO_KING f194
#define fPOINTS_FOR_READING_NOTE f196
#define fGAME_OVER_PREPARATION f197
#define fEGO_DUCKING f200
#define fTAKEN_BY_GIANT_BIRD f204
#define fGOAT_WONT_SWIM f210

// controls
#define cSAVE c1
#define cRESTORE c2
#define cRESTART c3
#define cINVENTORY c4
#define cSWIM c5
#define cQUIT c6
#define cJUMP c7
#define cDUCK c8
#define cSHOWMEM c9
#define cDEBUG c10
#define cINITJOYSTICK c11
#define cCLEARINPUT c12
#define cPREVINPUT c13
#define cPAUSE c14
#define cSHOWPRIORITY c16
#define cTOGGLESOUND c17
#define cHELP c18
#define cABOUT c19

#ifdef RUBBER_TREE
  #define cUNDO c20
#endif

#define oEGO o0

#define sPROMPT s0

#define INV_DAGGER 117
#define INV_CHEST 118
#define INV_CARROT 119
#define INV_GOLDEN_WALNUT 120
#define INV_GOLD_KEY 121
#define INV_NOTE 122
#define INV_GOLD_RING 123
#define INV_CLOVER 124
#define INV_EMPTY_BOWL 125
#define INV_BOWL_OF_STEW 126
#define INV_EMPTY_BUCKET 127
#define INV_BUCKET_OF_WATER 128
#define INV_PEBBLES 129
#define INV_SLINGSHOT 130
#define INV_POUCH_OF_DIAMONDS 131
#define INV_CLOSED_POUCH 132
#define INV_SCEPTRE 133
#define INV_SWISS_CHEESE 134
#define INV_MIRROR 135
#define INV_GOLDEN_EGG 136
#define INV_SHIELD 137
#define INV_FIDDLE 138
#define INV_WALNUT 139
#define INV_MUSHROOM 140
#define INV_MAGIC_BEANS 141

#define LOGIC92_HELP 92
#define LOGIC98_ERROR 98
#define LOGIC99_DEBUG 99
#define LOGIC100_GAME_OVER 100
#define LOGIC101_SWIMMING 101
#define LOGIC102_DEFAULT_RESPONSES 102
#define LOGIC103_GOAT 103
#define LOGIC104_BEANSTALK 104

#define SND_TITLE_MUSIC 0
#define SND_VILLAIN 1
#define SND_GAME_OVER 2
#define SND_OUCH 4
#define SND_FALLING 5
#define SND_FAIRY_GODMOTHER 6
#define SND_DRAGON 7
#define SND_FIDDLE_TUNE 8
#define SND_GIANT 9
#define SND_TROLL 10
#define SND_BEANSTALK 12
#define SND_GOLDEN_WALNUT 14
#define SND_DWARF 16
#define SND_SORCERER 17
#define SND_CASTLE_DOOR_FANFARE 15
#define SND_KILL_GIANT 18
#define SND_DOOR_OPENING 19
#define SND_WELL_HANDLE_TURNING 20
#define SND_LEPRECHAUN_KING 21

#define KEY_CTRL_A 1
#define KEY_CTRL_B 2
#define KEY_CTRL_C 3
#define KEY_CTRL_D 4
#define KEY_CTRL_E 5
#define KEY_CTRL_F 6
#define KEY_CTRL_G 7
#define KEY_CTRL_H 8
  #define KEY_BACKSPACE 8
#define KEY_CTRL_I 9
  #define KEY_TAB 9
#define KEY_CTRL_J 10
#define KEY_CTRL_K 11
#define KEY_CTRL_L 12
#define KEY_CTRL_M 13
  #define KEY_ENTER 13
#define KEY_CTRL_N 14
#define KEY_CTRL_O 15
#define KEY_CTRL_P 16
#define KEY_CTRL_Q 17
#define KEY_CTRL_R 18
#define KEY_CTRL_S 19
#define KEY_CTRL_T 20
#define KEY_CTRL_U 21
#define KEY_CTRL_V 22
#define KEY_CTRL_X 23
#define KEY_CTRL_Y 24
#define KEY_CTRL_Z 25
#define KEY_ESC 27
#define KEY_SPACE 32
#define KEY_DASH 41
#define KEY_DOT 46
#define KEY_0 48
#define KEY_1 49
#define KEY_2 50
#define KEY_3 51
#define KEY_4 52
#define KEY_5 53
#define KEY_6 54
#define KEY_7 55
#define KEY_8 56
#define KEY_9 57
#define KEY_EQUALS 61

#define XKEY_F1 59
#define XKEY_F2 60
#define XKEY_F3 61
#define XKEY_F4 62
#define XKEY_F5 63
#define XKEY_F6 64
#define XKEY_F7 65
#define XKEY_F8 66
#define XKEY_F9 67
#define XKEY_F10 68
#define XKEY_ALT_Q 16
#define XKEY_ALT_W 17
#define XKEY_ALT_E 18
#define XKEY_ALT_R 19
#define XKEY_ALT_T 20
#define XKEY_ALT_Y 21
#define XKEY_ALT_U 22
#define XKEY_ALT_I 23
#define XKEY_ALT_O 24
#define XKEY_ALT_P 25
#define XKEY_ALT_A 30
#define XKEY_ALT_S 31
#define XKEY_ALT_D 32
#define XKEY_ALT_F 33
#define XKEY_ALT_G 34
#define XKEY_ALT_H 35
#define XKEY_ALT_J 36
#define XKEY_ALT_K 37
#define XKEY_ALT_L 38
#define XKEY_ALT_Z 44
#define XKEY_ALT_X 45
#define XKEY_ALT_C 46
#define XKEY_ALT_V 47
#define XKEY_ALT_B 48
#define XKEY_ALT_N 49
#define XKEY_ALT_M 50

#define EDGE_NONE 0
#define EDGE_HORIZON 1
#define EDGE_RIGHT 2
#define EDGE_BOTTOM 3
#define EDGE_LEFT 4

#define COMPUTERTYPE_PC 0
#define COMPUTERTYPE_ATARI_ST 4
#define COMPUTERTYPE_AMIGA 5

#define DIR_NONE 0
#define DIR_NORTH 1
#define DIR_NORTHEAST 2
#define DIR_EAST 3
#define DIR_SOUTHEAST 4
#define DIR_SOUTH 5
#define DIR_SOUTHWEST 6
#define DIR_WEST 7
#define DIR_NORTHWEST 8

#define ROOM_NULL 0
#define ROOM1_CASTLE_EAST 1
#define ROOM2_CASTLE_WEST 2
#define ROOM3_ROCK_OVER_HOLE 3
#define ROOM4_SERENE_LAKE_EAST 4
#define ROOM5_SERENE_LAKE_WEST 5
#define ROOM6_POUCH_STUMP 6
#define ROOM7_WATERFALL_LAKE_EAST 7
#define ROOM8_WATERFALL_LAKE_WEST 8
#define ROOM9_FAIRY_GODMOTHER_STOMPING_GROUND 9
#define ROOM10_GOAT_PEN_WEST 10
#define ROOM11_GOAT_PEN_EAST 11
#define ROOM12_TOP_OF_WELL 12
#define ROOM13_WOLF_STOMPING_GROUND 13
#define ROOM14_BASE_GOLDEN_EGG_TREE 14
#define ROOM15_CARROT_PATCH_WEST 15
#define ROOM16_CARROT_PATCH_EAST 16
#define ROOM17_CLIFFS_LAKE_EAST 17
#define ROOM18_CLIFFS_LAKE_WEST 18
#define ROOM19_BASE_MOUNTAIN_DOOR 19
#define ROOM20_ALPINE_LAKE 20
#define ROOM21_WITCH_STOMPING_GROUND 21
#define ROOM22_CONDOR_AND_CAVE 22
#define ROOM23_MIRRORLIKE_LAKE 23
#define ROOM24_CLOVER_PATCH 24
#define ROOM25 25
#define ROOM26 26
#define ROOM27 27
#define ROOM28_OUTSIDE_GINGERBREAD_HOUSE 28
#define ROOM29 29
#define ROOM30_WALNUT_TREE 30
#define ROOM31_FREE_BOWL 31
#define ROOM32 32
#define ROOM33 33
#define ROOM34 34
#define ROOM35 35
#define ROOM36 36
#define ROOM37 37
#define ROOM38 38
#define ROOM39 39
#define ROOM40_GNOME_LEAN_TO 40
#define ROOM41 41
#define ROOM42_STONE_BRIDGE 42
#define ROOM43 43
#define ROOM44_OUTSIDE_WOODCUTTER_COTTAGE_FRONT 44
#define ROOM45_OUTSIDE_WOODCUTTER_COTTAGE_BACK 45
#define ROOM46_OGRE_STOMPING_GROUND 46
#define ROOM47_MUSHROOM 47
#define ROOM48_LEPRECHAUN_HOLE 48
#define ROOM49_INSIDE_WELL 49
#define ROOM50 50
#define ROOM51_DRAGON_STOMPING_GROUND 51
#define ROOM52_IN_WELL_UNDERWATER 52
#define ROOM53_KING_EDWARD_THRONE_ROOM 53
#define ROOM54_CASTLE_HALL_CORNER 54
#define ROOM55_CASTLE_HALL 55
#define ROOM56 56
#define ROOM57 57
#define ROOM58_GIANT_STOMPING_GROUND 58
#define ROOM59 59
#define ROOM60 60
#define ROOM61 61
#define ROOM62 62
#define ROOM63_UP_GOLDEN_EGG_TREE 63
#define ROOM64 64
#define ROOM65_IN_GINGERBREAD_HOUSE 65
#define ROOM66_MOUNTAIN_STAIRWAY_BOTTOM 66
#define ROOM67_MOUNTAIN_STAIRWAY_NEAR_BOTTOM 67
#define ROOM68_MOUNTAIN_STAIRWAY_NEAR_TOP 68
#define ROOM69_MOUNTAIN_STAIRWAY_TOP 69
#define ROOM70 70
#define ROOM71 71
#define ROOM72 72
#define ROOM73 73
#define ROOM74 74
#define ROOM75_RAT_STOMPING_GROUND 75
#define ROOM76_LEPRECHAUN_ANTECHAMBER 76
#define ROOM77_LEPRECHAUN_KING_THRONE_ROOM 77
#define ROOM78_IN_CAVE_WITH_TINY_HOLE 78
#define ROOM79_IN_WOODCUTTER_COTTAGE 79
#define ROOM80_IN_MID_AIR 80
#define ROOM83_TITLE_SCREEN 83
