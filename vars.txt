
#ifdef LOGIC_AS_C

  #define LOGIC__HEADER void func() {
  #define LOGIC__FOOTER }
  #include "logic_as_c.h"

#else

  #define LOGIC__HEADER
  #define LOGIC__FOOTER

#endif

// built-in vars
#define vROOM_NO v0
#define vPREV_ROOM_NO v1
#define vEGO_EDGE_CODE v2
#define vSCORE v3
#define vOBJECT_TOUCHING_EDGE v4
#define vOBJECT_EDGE_CODE v5
#define vEGO_DIR v6
#define vMAX_SCORE v7
#define vFREE_MEMORY v8
#define vUNKNOWN_WORD_NO v9
#define vCYCLE_DELAY v10
#define vCLOCK_SECONDS v11
#define vCLOCK_MINUTES v12
#define vCLOCK_HOURS v13
#define vCLOCK_DAYS v14
#define vJOYSTICK_SENSITIVITY v15
#define vEGO_VIEW_NO v16
#define vERROR_CODE v17
#define vERROR_INFO v18
#define vKEY_PRESSED v19
#define vCOMPUTER_TYPE v20
#define vWINDOW_CLOSE_TIME v21
#define vSOUND_TYPE v22
#define vSOUND_VOLUME v23
// 24: unknown, always 41?
#define vSELECTED_INV_ITEM v25
#define vVIDEO_MODE v26

// game vars
#define vTEMP_1 v31
#define vTEMP_X v60
#define vTEMP_Y v61
#define vTEMP_RESULT v62
#define vSPELL_STATE_HI v63
#define vSPELL_STATE_LO v64
#define vROOM_YOU_KILLED_THE_GOAT_IN v65
#define vDOOR_STATE v66
  #define DOORSTATE_LOCKED 0
  #define DOORSTATE_CLOSED 1
  #define DOORSTATE_OPEN 2
#define vTREASURE_COUNT v74
#define vDRAGON_STATE v75
#define vTEMP_INPUT_NUM1 v78
#define vTEMP_INPUT_NUM2 v79
#define vWITCH_STATE v81
  #define WITCHSTATE_AT_HOME 1
  #define WITCHSTATE_AWAY_FROM_HOME 2
  #define WITCHSTATE_DEAD 3
#define vGNOME_STATE v83
  #define GNOMESTATE_PRESENT 0
  #define GNOMESTATE_LEFT_BEANS 1
  #define GNOMESTATE_LEFT_KEY 2
#define vTAKEN_GNOME_GIFT v85
  #define GNOMEGIFT_KEY 1
  #define GNOMEGIFT_BEANS 2
#define vGNOME_NAME_GUESSES v84
#define vCUPBOARD_STATE v87
  #define CUPBOARDSTATE_CLOSED_WITH_CHEESE 0
  #define CUPBOARDSTATE_OPEN_WITH_CHEESE 1
  #define CUPBOARDSTATE_CLOSED_NO_CHEESE 2
  #define CUPBOARDSTATE_OPEN_NO_CHEESE 3
#define vTEMP_CYCLE_DELAY v88
#define vBOWL_STATE v89
  #define BOWLSTATE_EMPTY 0
  #define BOWLSTATE_FULL_OF_STEW 1
#define vTEMP_PIC v92
#define vTEMP_COUNTDOWN v97
#define vTEMP_STEP_SIZE v98
#define vTEMP_X_2 v100
#define vTEMP_Y_2 v101
#define vTEMP_CYCLE_TIME v102
#define vTEMP_CYCLE_TIME_2 v103
#define vTEMP_X_3 v104
#define vTEMP_Y_3 v105
#define vTEMP_DIR v106
#define vTEMP_STEP_SIZE_2 v107
#define vSAVED_EGO_X v108
#define vSAVED_EGO_Y v109
#define vSAVED_EGO_DIR v110

// built-in flags
#define fEGO_ON_WATER f0
#define fEGO_OBSCURED f1
#define fPLAYER_ENTERED_COMMAND f2
#define fEGO_TOUCHED_TRIGGER_LINE f3
#define fSAID_ACCEPTED_USER_INPUT f4
#define fROOM_SCRIPT_EXECUTED f5
#define fRESTART_GAME_EXECUTED f6
#define fWRITING_SCRIPT_BUFFER_BLOCKED f7
#define fJOYSTICK_SENSITIVITY_ENABLED f8
#define fSOUND_ENABLED f9
#define fDEBUGGER_ENABLED f10
#define fLOGIC_0_EXECUTED f11
#define fRESTORE_GAME_EXECUTED f12
#define fSTATUS_TO_SELECT_ITEMS f13
#define fENABLE_MENU f14
#define fENABLE_NON_BLOCKING_WINDOWS f15
#define fGAME_RESTART_FLAG f16

// custom game flags
#define fFINISHED1 f30
#define fSPOKEN_TO_KING f60
#define fPOINTS_FOR_FINDING_POUCH f61
#define fMOVED_ROCK f62
#define fGAME_OVER f63
#define fCARRYING_DAGGER f67
#define fTAKEN_DAGGER f69
#define fDAGGER_LOST f70
#define fPOUCH_TAKEN f71
#define fCARRYING_POUCH f72
#define fPROTECTED_BY_SPELL f73
#define fCARRYING_CARROT f77
#define fEGO_INVISIBLE f79
#define fPOINTS_FOR_FINDING_CHEESE f80
#define fCARRYING_BUCKET f81
#define fCARRYING_RING f83
#define fCARRYING_GOLD_KEY f84
#define fPOINTS_FOR_UNLOCKING_DOOR f85
#define fCLOVER_TAKEN f86
#define fCARRYING_CLOVER f87
#define fBUCKET_FILLED f88
#define fCARRYING_BOWL f89
#define fBOWL_TAKEN f90
#define fFILL_BUCKET_POINTS f91
#define fCARRYING_PEBBLES f93
#define fCARRYING_SLINGSHOT f97
#define fCARRYING_SHIELD f102
#define fCARRYING_CHEST f104
#define fCARRYING_DIAMONDS f106
#define fCARRYING_GOLD_WALNUT f108
#define fCARRYING_MIRROR f100
#define fCARRYING_GOLDEN_EGG f110
#define fCARRYING_SCEPTRE f113
#define fPOINTS_FOR_CARROT f117
#define fCARROT_EATEN f118
#define fEGO_TINY f120
#define fMUSHROOM_TAKEN f121
#define fCARRYING_MUSHROOM f123
#define fLOST_VITAL_TREASURE f126
#define fCARRYING_WALNUT f127
#define fWEARING_RING f133
#define fTAKEN_GOLDEN_EGG f137
#define fCARRYING_SWISS_CHEESE f139
#define fCARRYING_MAGIC_BEANS f154
#define fSOUND_END_MARKER f159
#define fPOINTS_FOR_EATING_GINGERBREAD_HOUSE f160
#define fCARRYING_NOTE f170
#define fCARRYING_FIDDLE f171
#define fFIDDLE_TAKEN f172
#define fGIVEN_BOWL_TO_WOODCUTTER f183
#define fPOINTS_FOR_STEW f184
#define fPOINTS_FOR_BOWING_TO_KING f194
#define fPOINTS_FOR_READING_NOTE f196
#define fEGO_DUCKING f200

// controls
#define cSAVE c1
#define cRESTORE c2
#define cRESTART c3
#define cSWIM c5
#define cDUCK c8

#define oEGO o0

#define sPROMPT s0

#define INV_DAGGER 117
#define INV_CHEST 118
#define INV_CARROT 119
#define INV_GOLDEN_WALNUT 120
#define INV_GOLD_KEY 121
#define INV_NOTE 122
#define INV_GOLD_RING 123
#define INV_CLOVER 124
#define INV_EMPTY_BOWL 125
#define INV_BOWL_OF_STEW 126
#define INV_EMPTY_BUCKET 127
#define INV_BUCKET_OF_WATER 128
#define INV_PEBBLES 129
#define INV_SLINGSHOT 130
#define INV_POUCH_OF_DIAMONDS 131
#define INV_CLOSED_POUCH 132
#define INV_SCEPTRE 133
#define INV_SWISS_CHEESE 134
#define INV_MIRROR 135
#define INV_GOLDEN_EGG 136
#define INV_SHIELD 137
#define INV_FIDDLE 138
#define INV_WALNUT 139
#define INV_MUSHROOM 140
#define INV_MAGIC_BEANS 141
