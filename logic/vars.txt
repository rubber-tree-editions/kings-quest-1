
#define AMIGA 1
#define ATARI_ST 2
#define DOS 3
#define MACINTOSH 4
#define APPLE_IIGS 5

#define BUILD_TARGET__FIRST 1
#define BUILD_TARGET__LAST 5

#ifdef BUILD_TARGET
  #if !((BUILD_TARGET) >= BUILD_TARGET__FIRST && (BUILD_TARGET) <= BUILD_TARGET__LAST)
    #error BUILD_TARGET must be one of AMIGA, ATARI_ST, DOS, MACINTOSH or APPLE_IIGS
  #endif
#else
  #define BUILD_TARGET DOS
#endif

#ifndef VERSION_MAJOR
  #if (BUILD_TARGET)==AMIGA || (BUILD_TARGET)==ATARI_ST
    #define VERSION_MAJOR 1
  #else
    #define VERSION_MAJOR 2
  #endif
#endif

#ifndef RUBBER_TREE
  #define RUBBER_TREE 1
#endif

#include "items.txt"
#include "words.txt"

#if VERSION_MAJOR >= 2
  #define iRING "magic ring"
#else
  #define iRING "ring"
#endif

// built-in vars
#define vROOM_NO v0
#define vPREV_ROOM_NO v1
#define vEGO_EDGE_CODE v2
#define vSCORE v3
#define vOBJECT_TOUCHING_EDGE v4
#define vOBJECT_EDGE_CODE v5
#define vEGO_DIR v6
#define vMAX_SCORE v7
#define vFREE_MEMORY v8
#define vUNKNOWN_WORD_NO v9
#define vCYCLE_DELAY v10
#define vCLOCK_SECONDS v11
#define vCLOCK_MINUTES v12
#define vCLOCK_HOURS v13
#define vCLOCK_DAYS v14
#define vJOYSTICK_SENSITIVITY v15
#define vEGO_VIEW_NO v16
#define vERROR_CODE v17
#define vERROR_INFO v18
#define vKEY_PRESSED v19
#define vCOMPUTER_TYPE v20
#define vWINDOW_CLOSE_TIME v21
#define vSOUND_TYPE v22
#define vSOUND_VOLUME v23
// 24: unknown, always 41?
#define vSELECTED_INV_ITEM v25
#define vVIDEO_MODE v26

// room vars: cleared to zero on every room load
#define rv0 v30
#define rv1 v31
#define rv2 v32
#define rv3 v33
#define rv4 v34
#define rv5 v35
#define rv6 v36
#define rv7 v37
#define rv8 v38
#define rv9 v39
#define rv10 v40
#define rv11 v41
#define rv12 v42
#define rv13 v43
#define rv14 v44

// global vars
#define vTEMP_COUNTER v45
// unused: v50-v59
#define vTEMP_X v60
#define vTEMP_Y v61
#define vTEMP_RESULT v62
#define vSPELL_COUNTDOWN_HI v63
#define vSPELL_COUNTDOWN_LO v64
#define vROOM_YOU_KILLED_THE_GOAT_IN v65
#define vDOOR_STATE v66
  #define DOORSTATE_LOCKED 0
  #define DOORSTATE_CLOSED 1
  #define DOORSTATE_OPEN 2
// unused: v67
#define vCOUNTDOWN_LO v68
#define vCOUNTDOWN_HI v69
#define vTEMP_RESULT_2 v70
#define vTEMP_RESULT_3 v71
#define vDEBUG_VAR_VALUE v72
#define vDEBUG_VAR_OR_FLAG_ID v73
#define vTREASURE_COUNT v74
#define vDRAGON_STATE v75
  #define DRAGONSTATE_NORMAL 0
  #define DRAGONSTATE_DEAD 1
  #define DRAGONSTATE_ABSENT 2
#define vEGO_WATER_X v76
#define vEGO_WATER_Y v77
#define vTEMP_INPUT_NUM1 v78
#define vTEMP_INPUT_NUM2 v79
#define vBEANSTALK_ROOM v80
#define vWITCH_STATE v81
  #define WITCHSTATE_AT_HOME 1
  #define WITCHSTATE_AWAY_FROM_HOME 2
  #define WITCHSTATE_DEAD 3
#define vTINY_COUNTDOWN v82
#define vGNOME_STATE v83
  #define GNOMESTATE_PRESENT 0
  #define GNOMESTATE_LEFT_BEANS 1
  #define GNOMESTATE_LEFT_KEY 2
#define vGNOME_NAME_GUESSES v84
#define vTAKEN_GNOME_GIFT v85
  #define GNOMEGIFT_KEY 1
  #define GNOMEGIFT_BEANS 2
  #define GNOMEGIFT_BEANS_REPLENISHED 3 // rubber tree only
#define vGIANT_STATE v86
  #define GIANTSTATE_AWAKE_WITH_CHEST 0
  #define GIANTSTATE_ASLEEP_WITH_CHEST 1
  #define GIANTSTATE_AWAKE_NO_CHEST 2
  #define GIANTSTATE_ASLEEP_NO_CHEST 3
  #define GIANTSTATE_DEAD_WITH_CHEST 4
  #define GIANTSTATE_DEAD_NO_CHEST 5
#define vCUPBOARD_STATE v87
  #define CUPBOARDSTATE_CLOSED_WITH_CHEESE 0
  #define CUPBOARDSTATE_OPEN_WITH_CHEESE 1
  #define CUPBOARDSTATE_CLOSED_NO_CHEESE 2
  #define CUPBOARDSTATE_OPEN_NO_CHEESE 3
#define vTEMP_CYCLE_DELAY v88
#define vBOWL_STATE v89
  #define BOWLSTATE_EMPTY 0
  #define BOWLSTATE_FULL_OF_STEW 1
#define vINVISIBLE_COUNTDOWN_LO v90
#define vINVISIBLE_COUNTDOWN_HI v91
#define vTEMP_PIC v92
#define vDROWN_MESSAGE_COUNTDOWN v93
#define vAQUATIC_ACTIVITY v94
  #define AQUATICACTIVITY_NONE 0
  #define AQUATICACTIVITY_DROWNING 1
  #define AQUATICACTIVITY_SWIMMING 2
#define vDROWN_GAME_OVER_COUNTDOWN v95
#define vTEMP_STEP v96
#define vGAME_OVER_MESSAGE_COUNTDOWN v97
#define vTEMP_STEP_SIZE v98
// unused: v99
#define vTEMP_X_2 v100
#define vTEMP_Y_2 v101
#define vTEMP_CYCLE_TIME v102
#define vTEMP_CYCLE_TIME_2 v103
#define vTEMP_X_3 v104
#define vTEMP_Y_3 v105
#define vTEMP_DIR v106
#define vTEMP_STEP_SIZE_2 v107
#define vSAVED_EGO_X v108
#define vSAVED_EGO_Y v109
#define vSAVED_EGO_DIR v110
#define vGOAT_ROOM v111
#define vRANDOM_TREE_MESSAGE v112
#define vRANDOM_ROCK_MESSAGE v113

#ifdef RUBBER_TREE
  #define vTEMP_LOOP v150
  #define vTEMP_CEL v151
  #define vTEMP_LOOP_2 v152
  #define vTEMP_CEL_2 v153
  #define vTEMP_LOOP_3 v154
  #define vTEMP_CEL_3 v155
  #define vRESTORE_X v156
  #define vRESTORE_Y v157
  #define vRESTORE_X_2 v158
  #define vRESTORE_Y_2 v159
  #define vRESTORE_X_3 v160
  #define vRESTORE_Y_3 v161
  #define vRESTORE_DIR v162

  #define vWELL_MODE v163
  #define WELLMODE_NONE 0
  #define WELLMODE_JUMP_OR_FALL_IN 1
  #define WELLMODE_FALL_FROM_ROPE_TOP 2
  #define WELLMODE_FALL_FROM_ROPE_MID 3
  #define WELLMODE_FALL_FROM_ROPE_LOW 4
  #define WELLMODE_FALL_FROM_BUCKET 5

  #define vRESTORE_ROOM v164
  #define vRESTORE_DIR_2 v165

  #define vRAT_TOOK_ITEM v168

  #define vSTATE_FLAGS v169
    #define STATEFLAGS_UNDRUNK_WATER 64
    #define STATEFLAGS_UNEATEN_CARROT 32
    #define STATEFLAGS_UNEATEN_BEANS 16
    #define STATEFLAGS_UNEATEN_CHEESE 8
    #define STATEFLAGS_UNREAD_NOTE 4
    #define STATEFLAGS_CLOSED_POUCH 2
    #define STATEFLAGS_CLOSED_WALNUT 1
  #define vSTEW_PTS_PLUS_2 v170
  #define vSTATE_INVISCD_HI v171
  #define vSTATE_INVISCD_LO v172
  #define vSTATE_PROTECTCD_HI v173
  #define vSTATE_PROTECTCD_LO v174
  #define vSTATE_TINYCD v175

  #define vDROWN_GOAT_X v176
  #define vDROWN_GOAT_Y v177
  #define vDROWN_GOAT_DIR v178
  #define vDROWN_INVISCD_HI v179
  #define vDROWN_INVISCD_LO v180
  #define vDROWN_PROTECTCD_HI v181
  #define vDROWN_PROTECTCD_LO v182
#endif

// built-in flags
#define fEGO_ON_WATER f0
#define fEGO_OBSCURED f1
#define fPLAYER_ENTERED_COMMAND f2
#define fEGO_TOUCHED_TRIGGER_LINE f3
#define fSAID_ACCEPTED_USER_INPUT f4
#define fROOM_SCRIPT_EXECUTED f5
#define fRESTART_GAME_EXECUTED f6
#define fWRITING_SCRIPT_BUFFER_BLOCKED f7
#define fJOYSTICK_SENSITIVITY_ENABLED f8
#define fSOUND_ENABLED f9
#define fDEBUGGER_ENABLED f10
#define fLOGIC_0_EXECUTED f11
#define fRESTORE_GAME_EXECUTED f12
#define fSTATUS_TO_SELECT_ITEMS f13
#define fENABLE_MENU f14
#define fENABLE_NON_BLOCKING_WINDOWS f15
#define fGAME_RESTART_FLAG f16

// local game flags: reset on every room load
#define rf0 f20
#define rf1 f21
#define rf2 f22
#define rf3 f23
#define rf4 f24
#define rf5 f25
#define rf6 f26
#define rf7 f27
#define rf8 f28
#define rf9 f29
#define rf10 f30
#define rf11 f31
#define rf12 f32
#define rf13 f33
#define rf14 f34
#define rf15 f35
#define rf16 f36
#define rf17 f37
#define rf18 f38
#define rf19 f39
#define rf20 f40
#define rf21 f41
#define rf22 f42
#define rf23 f43
#define rf24 f44

// custom game flags
#define fPLAYING_SND_SPLASHING f45
#define fPLAYED_SND_SPLASHING f46
// unused: f50-f59
#define fSPOKEN_TO_KING f60
#define fPOINTS_FOR_FINDING_POUCH f61
#define fMOVED_ROCK f62
#define fGAME_OVER f63
// unused: f64
// unused: f65
#define fGOAT_WONT_SWIM_V2 f66
#define fCARRYING_DAGGER f67
#define fSWIMMING_IMPOSSIBLE_HERE f68
#define fTAKEN_DAGGER f69
#define fDAGGER_LOST f70
#define fPOUCH_TAKEN f71
#define fCARRYING_POUCH f72
#define fPROTECTED_BY_SPELL f73
#define fINSIDE_GOAT_FENCE f74
#define fGOAT_COMPANION f75
#define fSCRIPTED_GOAT_MOVEMENT f76
#define fCARRYING_CARROT f77
#define fGOAT_GATE_OPEN f78
#define fEGO_INVISIBLE f79
#define fPOINTS_FOR_FINDING_CHEESE f80
#define fCARRYING_BUCKET f81
#define fIMPRESSED_ELF f82
#define fCARRYING_RING f83
#define fCARRYING_GOLD_KEY f84
#define fPOINTS_FOR_UNLOCKING_DOOR f85
#define fCLOVER_TAKEN f86
#define fCARRYING_CLOVER f87
#define fBUCKET_FILLED f88
#define fCARRYING_BOWL f89
#define fBOWL_TAKEN f90
#define fFILL_BUCKET_POINTS f91
#define fPEBBLES_TAKEN f92
#define fCARRYING_PEBBLES f93
#define fMAGIC_BEANS_PLANTED f94
#define fSCRIPTED_MOTION f95
#define fSLINGSHOT_TAKEN f96
#define fCARRYING_SLINGSHOT f97
#define fCYCLE_EGO_ANIMATION f98

#if RUBBER_TREE
  #define fUNDO f99
#endif

#define fCARRYING_MIRROR f100
#define fDWARF_STOLE_MIRROR f101
#define fCARRYING_SHIELD f102
#define fDWARF_STOLE_SHIELD f103
#define fCARRYING_CHEST f104
#define fDWARF_STOLE_CHEST f105
#define fCARRYING_DIAMONDS f106
#define fDWARF_OR_TROLL_HAS_DIAMONDS f107
#define fCARRYING_GOLD_WALNUT f108
#define fDWARF_OR_TROLL_HAS_WALNUT f109
#define fCARRYING_GOLDEN_EGG f110
#define fDWARF_OR_TROLL_HAS_EGG f111
#define fDWARF_HAS_POUCH f112
#define fCARRYING_SCEPTRE f113
#define fDWARF_OR_TROLL_HAS_SCEPTRE f114
#define fLOST_RING f115
#define fDRANK_WATER f116
#define fPOINTS_FOR_CARROT f117
#define fCARROT_EATEN f118
// unused: f119
#define fEGO_TINY f120
#define fMUSHROOM_TAKEN f121
#define fSWIMMING_LOGIC_LOADED f122
#define fCARRYING_MUSHROOM f123
#define fEATEN_MUSHROOM f124
#define fNO_BUSINESS_WITH_KING f125
#define fLOST_VITAL_TREASURE f126
#define fCARRYING_WALNUT f127
// unused: f128
#define fWALNUT_TAKEN f129
#define fGOAT_IS_GONE f130
#define fFALLING_OUT_OF_TREE f131
#define fPOINTS_FOR_CLIMBING_TREE f132
#define fWEARING_RING f133
#define fMANUAL_EGO_WATER_POS f134
#define f135_UNKNOWN f135
#define f136_UNKNOWN f136
#define fTAKEN_GOLDEN_EGG f137
#define fRAT_IS_GONE f138
#define fCARRYING_SWISS_CHEESE f139
#define fRAT_ATE_CHEESE f140
// unused: f141
#define fCARRIED_BY_WITCH f142
#define fJUMPING f143
#define fJUMPED f144
#define fTENSE_SITUATION f145
#define fTHREAT_OF_SORCERER_OR_OGRE f146
#define fSWIMMING f147
#define fMISC_END_MARKER f148
#define fGOAT_KILLED_TROLL f150
#define fTROLL_TOOK_TREASURE f151
#define fCARRYING_MAGIC_BEANS f154
#define fINIT_BEANSTALK f155
#define fVILLAIN_GOT_YOU f156
#define fEGO_CLIMBING_BEANSTALK f157
#define fFALLING_TO_EARTH f158
#define fSOUND_END_MARKER f159
#define fPOINTS_FOR_EATING_GINGERBREAD_HOUSE f160
// unused: f161
#define fPOINTS_FOR_CONTROLLED_WELL_ENTRY f162
#define fBUCKET_ON_WELL_HAS_WATER f163
#define fPOINTS_FOR_DIVING_IN_WELL f164
#define fTAKEN_MIRROR f165
// unused: f166
#define fPOINTS_FOR_FINDING_DRAGON f167
#define fPOINTS_FOR_BOWING_TO_THE_KING f168
#define fCHEST_TAKEN f169
#define fCARRYING_NOTE f170
#define fCARRYING_FIDDLE f171
#define fFIDDLE_TAKEN f172
// unused: f173
#define f174_UNKNOWN f174
#define f175_UNKNOWN f175
#define fBUCKET_ROPE_CUT f176
#define fBUCKET_LOWERED f177
#define fROPE_GONE f178
#define fROPE_DANGLING_IN_WELL f179
#define fON_WELL_ROPE f180
#define fIN_WELL_BUCKET f181
#define fFALLING_DOWN_WELL f182
#define fGIVEN_BOWL_TO_WOODCUTTER f183
#define fPOINTS_FOR_STEW f184
#define fWOODCUTTER_GIVEN_STEW f185
#define fDANCING_LEPRECHAUNS f186
#define fLEPRECHAUN_KING_GONE f187
#define fSHIELD_TAKEN f188
#define fSCEPTRE_TAKEN f189
#define fDEBUG_MODE f190
#define fPOINTS_FOR_ENTERING_CASTLE f193
#define fPOINTS_FOR_BOWING_TO_KING_AFTER_MISSION f194
#define fYOU_WON f195
#define fPOINTS_FOR_READING_NOTE f196
#define fGAME_OVER_PREPARATION f197
#define fSOUND_END_MARKER_2 f198
#define fFALLING f199
#define fEGO_DUCKING f200
#define fDUCKED f201
#define fFULLY_DUCKED f202
#define fMISC_END_MARKER_2 f203
#define fTAKEN_BY_GIANT_BIRD f204
#define fPOINTS_FOR_TIRING_OUT_GIANT f205
#define fPOINTS_FOR_ENTERING_CASTLE_AGAIN f206
#define fGOAT_NEAR_YOU f207
#define fPOINTS_FOR_LEAVING_DRAGONS_LAIR f208
#define fPLAYER_NOT_IN_CONTROL f209
#define fGOAT_WONT_SWIM_V1 f210
#define fEGO_PLAYING_FIDDLE f211
#define fPLAYED_SND_FIDDLE_TUNE f212
#define fSHOW_GOAT_LEFT_MESSAGE f213
#define fEATEN_BY_GATORS f214
#define fEGO_PREOCCUPIED f215
#define fFALL_DANGER f216
// unused: f217-f255

#if RUBBER_TREE
  #define fDAGGER_REPLENISHED f220
  #define fSTORE_STATE f212
  #define fRESTORE_STATE f213
  #define fSTATE_BOWL_FULL f214
  #define fREPLENISH_MINOR_TREASURE f215
  #define fOVERRIDE_RESET_ENTRANCE f216
  #define fCHEESE_IS_VITAL f217
  #define fRESTORE_DROWN f218
#endif

// controls
#define cSAVE c1
#define cRESTORE c2
#define cRESTART c3
#define cINVENTORY c4
#define cSWIM c5
#define cQUIT c6
#define cJUMP c7
#define cDUCK c8
#define cSHOWMEM c9
#define cDEBUG c10
#define cINITJOYSTICK c11
#define cCLEARINPUT c12
#define cPREVINPUT c13
#define cPAUSE c14
#define cTOGGLEGFX c15
#define cSHOWPRIORITY c16
#define cTOGGLESOUND c17
#define cHELP c18
#define cABOUT c19
#define cNOTHING c20
#define cSEE_OBJECT c21
#define cSPEED_FAST c22
#define cSPEED_NORMAL c23
#define cSPEED_SLOW c24
#define cSHOW_MENU c25

#if RUBBER_TREE
  #define cUNDO c30
#endif

#define oEGO o0

#define sPROMPT s0

#define INV_DAGGER 117
#define INV_CHEST 118
#define INV_CARROT 119
#define INV_GOLDEN_WALNUT 120
#define INV_GOLD_KEY 121
#define INV_NOTE 122
#define INV_GOLD_RING 123
#define INV_CLOVER 124
#define INV_EMPTY_BOWL 125
#define INV_BOWL_OF_STEW 126
#define INV_EMPTY_BUCKET 127
#define INV_BUCKET_OF_WATER 128
#define INV_PEBBLES 129
#define INV_SLINGSHOT 130
#define INV_POUCH_OF_DIAMONDS 131
#define INV_CLOSED_POUCH 132
#define INV_SCEPTRE 133
#define INV_SWISS_CHEESE 134
#define INV_MIRROR 135
#define INV_GOLDEN_EGG 136
#define INV_SHIELD 137
#define INV_FIDDLE 138
#define INV_WALNUT 139
#define INV_MUSHROOM 140
#define INV_MAGIC_BEANS 141

#define LOGIC92_HELP 92
#define LOGIC98_ERROR 98
#define LOGIC99_DEBUG 99
#define LOGIC100_GAME_OVER 100
#define LOGIC101_SWIMMING 101
#define LOGIC102_DEFAULT_RESPONSES 102
#define LOGIC103_GOAT 103
#define LOGIC104_BEANSTALK 104

#define SND_TITLE_MUSIC 0
#define SND_VILLAIN 1
#define SND_GAME_OVER 2
#define SND_WOLF 3
#define SND_OUCH 4
#define SND_FALLING 5
#define SND_FAIRY_GODMOTHER 6
#define SND_DRAGON 7
#define SND_FIDDLE_TUNE 8
#define SND_GIANT 9
#define SND_TROLL 10
#define SND_GIANT2 10
#define SND_GOAT 11
#define SND_BEANSTALK 12
#define SND_SPLASHING 13
#define SND_GOLDEN_WALNUT 14
#define SND_KING 15
#define SND_CASTLE_DOOR_FANFARE 15
#define SND_DWARF 16
#define SND_OGRE 16
#define SND_SORCERER 17
#define SND_KILL_GIANT 18
#define SND_DOOR_OPENING 19
#define SND_WELL_HANDLE_TURNING 20
#define SND_LEPRECHAUN_KING 21
#define SND_DRAGON2 22
#define SND_POINTS 23
#define SND_TREASURE 24
#define SND_FRIEND 25
#define SND_DYING_KING 26
#define SND_RAT 27
#define SND_DOOR_CLOSED 29
#define SND_KILLED_WITCH 30
#define SND_ROBBED 32
#define SND_EATEN_BY_GATORS 33
#define SND_MOAT 34
#define SND_BIRD 35
#define SND_IN_WELL 36
#define SND_CARRIED_BY_WITCH 37
#define SND_WOLF2 38
#define SND_KILLING_WITCH 40
#define SND_FIDDLE_TUNE2 41
#define SND_MOVING_ROCK 42
#define SND_GIFT 43
#define SND_IMPACT 44
#define SND_RUSHING_WATER 47

#define KEY_CTRL_A 1
#define KEY_CTRL_B 2
#define KEY_CTRL_C 3
#define KEY_CTRL_D 4
#define KEY_CTRL_E 5
#define KEY_CTRL_F 6
#define KEY_CTRL_G 7
#define KEY_CTRL_H 8
  #define KEY_BACKSPACE 8
#define KEY_CTRL_I 9
  #define KEY_TAB 9
#define KEY_CTRL_J 10
#define KEY_CTRL_K 11
#define KEY_CTRL_L 12
#define KEY_CTRL_M 13
  #define KEY_ENTER 13
#define KEY_CTRL_N 14
#define KEY_CTRL_O 15
#define KEY_CTRL_P 16
#define KEY_CTRL_Q 17
#define KEY_CTRL_R 18
#define KEY_CTRL_S 19
#define KEY_CTRL_T 20
#define KEY_CTRL_U 21
#define KEY_CTRL_V 22
#define KEY_CTRL_X 23
#define KEY_CTRL_Y 24
#define KEY_CTRL_Z 25
#define KEY_ESC 27
#define KEY_SPACE 32
#define KEY_DASH 45
#define KEY_DOT 46
#define KEY_0 48
#define KEY_1 49
#define KEY_2 50
#define KEY_3 51
#define KEY_4 52
#define KEY_5 53
#define KEY_6 54
#define KEY_7 55
#define KEY_8 56
#define KEY_9 57
#define KEY_EQUALS 61

#define XKEY_F1 59
#define XKEY_F2 60
#define XKEY_F3 61
#define XKEY_F4 62
#define XKEY_F5 63
#define XKEY_F6 64
#define XKEY_F7 65
#define XKEY_F8 66
#define XKEY_F9 67
#define XKEY_F10 68
#define XKEY_ALT_Q 16
#define XKEY_ALT_W 17
#define XKEY_ALT_E 18
#define XKEY_ALT_R 19
#define XKEY_ALT_T 20
#define XKEY_ALT_Y 21
#define XKEY_ALT_U 22
#define XKEY_ALT_I 23
#define XKEY_ALT_O 24
#define XKEY_ALT_P 25
#define XKEY_ALT_A 30
#define XKEY_ALT_S 31
#define XKEY_ALT_D 32
#define XKEY_ALT_F 33
#define XKEY_ALT_G 34
#define XKEY_ALT_H 35
#define XKEY_ALT_J 36
#define XKEY_ALT_K 37
#define XKEY_ALT_L 38
#define XKEY_ALT_Z 44
#define XKEY_ALT_X 45
#define XKEY_ALT_C 46
#define XKEY_ALT_V 47
#define XKEY_ALT_B 48
#define XKEY_ALT_N 49
#define XKEY_ALT_M 50

#define EDGE_NONE 0
#define EDGE_HORIZON 1
#define EDGE_RIGHT 2
#define EDGE_BOTTOM 3
#define EDGE_LEFT 4

#define COMPUTERTYPE_PC 0
#define COMPUTERTYPE_ATARI_ST 4
#define COMPUTERTYPE_AMIGA 5

#define DIR_NONE 0
#define DIR_NORTH 1
#define DIR_NORTHEAST 2
#define DIR_EAST 3
#define DIR_SOUTHEAST 4
#define DIR_SOUTH 5
#define DIR_SOUTHWEST 6
#define DIR_WEST 7
#define DIR_NORTHWEST 8

#define ROOM_NULL 0
#define ROOM1_CASTLE_EAST 1
#define ROOM2_CASTLE_WEST 2
#define ROOM3_ROCK_OVER_HOLE 3
#define ROOM4_SERENE_LAKE_EAST 4
#define ROOM5_SERENE_LAKE_WEST 5
#define ROOM6_POUCH_STUMP 6
#define ROOM7_WATERFALL_LAKE_EAST 7
#define ROOM8_WATERFALL_LAKE_WEST 8
#define ROOM9_FAIRY_GODMOTHER_STOMPING_GROUND 9
#define ROOM10_GOAT_PEN_WEST 10
#define ROOM11_GOAT_PEN_EAST 11
#define ROOM12_TOP_OF_WELL 12
#define ROOM13_WOLF_STOMPING_GROUND 13
#define ROOM14_BASE_GOLDEN_EGG_TREE 14
#define ROOM15_CARROT_PATCH_WEST 15
#define ROOM16_CARROT_PATCH_EAST 16
#define ROOM17_CLIFFS_LAKE_EAST 17
#define ROOM18_CLIFFS_LAKE_WEST 18
#define ROOM19_BASE_MOUNTAIN_DOOR 19
#define ROOM20_ALPINE_LAKE 20
#define ROOM21_WITCH_STOMPING_GROUND 21
#define ROOM22_CONDOR_AND_CAVE 22
#define ROOM23_MIRRORLIKE_LAKE 23
#define ROOM24_CLOVER_PATCH 24
#define ROOM25_RICKETY_BRIDGE 25
#define ROOM26_EMPTY_STUMP 26
#define ROOM27_BIG_FOREGROUND_TREE 27
#define ROOM28_OUTSIDE_GINGERBREAD_HOUSE 28
#define ROOM29_SORCERER_STOMPING_GROUND 29
#define ROOM30_WALNUT_TREE 30
#define ROOM31_FREE_BOWL 31
#define ROOM32_EAST_OF_FREE_BOWL 32
#define ROOM33_RAGING_RIVER_SPLIT_BY_BOULDER 33
#define ROOM34_PEBBLY_RIVER_BANK 34
#define ROOM35_DWARF_MEADOW 35
#define ROOM36_ROCK_WITH_TINY_HOLE 36
#define ROOM37_SWAMP 37
#define ROOM38_WILD_FLOWER_BED 38
#define ROOM39_WEATHER_BEATEN_BRIDGE 39
#define ROOM40_GNOME_LEAN_TO 40
#define ROOM41_OPEN_SIDED_BRIDGE 41
#define ROOM42_STONE_BRIDGE 42
#define ROOM43_CLEAR_BLUE_LAKE 43
#define ROOM44_OUTSIDE_WOODCUTTER_COTTAGE_FRONT 44
#define ROOM45_OUTSIDE_WOODCUTTER_COTTAGE_BACK 45
#define ROOM46_OGRE_STOMPING_GROUND 46
#define ROOM47_MUSHROOM 47
#define ROOM48_LEPRECHAUN_HOLE 48
#define ROOM49_INSIDE_WELL 49
#define ROOM50_CAVE_ADJOINING_DRAGONS_LAIR 50
#define ROOM51_DRAGONS_LAIR 51
#define ROOM52_IN_WELL_UNDERWATER 52
#define ROOM53_KING_EDWARD_THRONE_ROOM 53
#define ROOM54_CASTLE_HALL_CORNER 54
#define ROOM55_CASTLE_HALL 55
#define ROOM56_CLOUDS_GRASS_EDGE 56
#define ROOM57_CLOUDLANDS_NORTHWEST 57
#define ROOM58_GIANT_STOMPING_GROUND 58
#define ROOM59_CLOUDS_MOUNTAIN_CAVE 59
#define ROOM60_CLOUDLANDS_SOUTHWEST 60
#define ROOM61_CLOUDLANDS_SOUTH 61
#define ROOM62_CLOUDLANDS_SOUTHEAST 62
#define ROOM63_UP_GOLDEN_EGG_TREE 63
#define ROOM64_CLOUDS_LEFTMOST_NO_BEANSTALK 64
#define ROOM65_IN_GINGERBREAD_HOUSE 65
#define ROOM66_MOUNTAIN_STAIRWAY_BOTTOM 66
#define ROOM67_MOUNTAIN_STAIRWAY_NEAR_BOTTOM 67
#define ROOM68_MOUNTAIN_STAIRWAY_NEAR_TOP 68
#define ROOM69_MOUNTAIN_STAIRWAY_TOP 69
#define ROOM70_BEANSTALK_NEAR_BOTTOM 70
#define ROOM71_BEANSTALK_NEAR_TOP 71
#define ROOM72_CLOUDS_LEFTMOST_WITH_BEANSTALK 72
#define ROOM73_CAVE_CEILING_HOLE 73
#define ROOM74_CAVE_CORNER 74
#define ROOM75_RAT_STOMPING_GROUND 75
#define ROOM76_LEPRECHAUN_ANTECHAMBER 76
#define ROOM77_LEPRECHAUN_KING_THRONE_ROOM 77
#define ROOM78_IN_CAVE_WITH_TINY_HOLE 78
#define ROOM79_IN_WOODCUTTER_COTTAGE 79
#define ROOM80_IN_MID_AIR 80
#define ROOM83_TITLE_SCREEN 83

#if BUILD_TARGET == APPLE_IIGS
  #define GOAT_MOVE_CHECK (!fSCRIPTED_GOAT_MOVEMENT)
#else
  #define GOAT_MOVE_CHECK 1
#endif

#if BUILD_TARGET == APPLE_IIGS
  #define GATOR_REACH_DISTANCE 10
#else
  #define GATOR_REACH_DISTANCE 18
#endif
#define FAIRY_GODMOTHER_REACH_DISTANCE 25
#define WOLF_STEP_SIZE 4
#if VERSION_MAJOR >= 2
  #define WITCH_STEP_SIZE 6
#else
  #define WITCH_STEP_SIZE 4
#endif
#if BUILD_TARGET == APPLE_IIGS
  #define WOLF_REACH_DISTANCE 9
#else
  #define WOLF_REACH_DISTANCE 12
#endif
#define TROLL_REACH_DISTANCE 1
#define TROLL_STEP_SIZE 2
#if BUILD_TARGET == APPLE_IIGS
  #define RAT_REACH_DISTANCE 14
#else
  #define RAT_REACH_DISTANCE 15
#endif
#if BUILD_TARGET == APPLE_IIGS
  #define DRAGON_REACH_DISTANCE 13
  #define DRAGON_STEP_SIZE 2
#else
  #define DRAGON_REACH_DISTANCE 20
  #define DRAGON_STEP_SIZE 3
#endif
#define SORCERER_STEP_SIZE 2
#define SORCERER_REACH_DISTANCE 7
#define OGRE_STEP_SIZE 2
#if BUILD_TARGET == APPLE_IIGS
  #define OGRE_REACH_DISTANCE 4
#else
  #define OGRE_REACH_DISTANCE 7
#endif
#define BIRD_STEP_SIZE 4
#define EGO_STEP_SIZE 1
